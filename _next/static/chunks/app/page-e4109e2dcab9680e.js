(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2048:(e,t,s)=>{Promise.resolve().then(s.bind(s,9547))},9547:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var l=s(5155),n=s(2115);function a(e){return Math.ceil(16*e)/16}function c(e){let t=a(e),s=Math.floor(t),l=t-s;if(0===l)return"".concat(s,'"');let n=Math.round(16*l),c=(e,t)=>0===t?e:c(t,e%t),r=c(n,16),i=n/r,x=16/r;return 0===s?"".concat(i,"/").concat(x,'"'):"".concat(s," ").concat(i,"/").concat(x,'"')}function r(){let[e,t]=(0,n.useState)("home"),[s,r]=(0,n.useState)(null),[i,x]=(0,n.useState)([]),[o,d]=(0,n.useState)(!1),[m,h]=(0,n.useState)(0),u=function(e){if(0===e.length)return null;let t=Math.max(...e.map(e=>e.widthInInches)),s=Math.max(...e.map(e=>e.heightInInches)),l=e.reduce((e,t)=>e+t.confidence,0)/e.length;return{width:a(t),height:a(s),confidence:l,category:l>=.85?"Excellent":l>=.65?"OK":"Not Great",passCount:e.length}}(i),p=(e,t)=>()=>{h(e=>e+1),console.log("[Click ".concat(m+1,"] ").concat(e)),t()};if("home"===e)return(0,l.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-white",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Window Measurement"}),(0,l.jsx)("p",{className:"text-gray-600 mb-8 text-center",children:"Measure your windows for perfect-fit shades"}),(0,l.jsx)("button",{type:"button",onClick:p("Start Measuring",()=>t("permission")),className:"bg-blue-600 text-white px-8 py-4 rounded-lg text-lg font-semibold mb-4 w-full max-w-xs",children:"Start Measuring"}),(0,l.jsx)("button",{type:"button",onClick:p("Settings",()=>t("settings")),className:"text-gray-500 text-sm",children:"Settings"}),(0,l.jsxs)("p",{className:"text-gray-400 text-xs mt-8",children:["Version 0.1.3 • Clicks: ",m]})]});if("permission"===e)return(0,l.jsxs)("div",{className:"min-h-screen flex flex-col p-6 bg-white",children:[(0,l.jsx)("button",{type:"button",onClick:p("Back",()=>t("home")),className:"text-blue-600 mb-8",children:"← Back"}),(0,l.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center",children:[(0,l.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-6",children:(0,l.jsx)("span",{className:"text-3xl",children:"\uD83D\uDCF7"})}),(0,l.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Camera Access"}),(0,l.jsx)("p",{className:"text-gray-600 mb-8 text-center",children:"We need camera access to measure your windows."}),(0,l.jsx)("button",{type:"button",onClick:p("Allow Camera",()=>t("mountSelection")),className:"bg-blue-600 text-white px-8 py-4 rounded-lg text-lg font-semibold w-full max-w-xs",children:"Allow Camera Access"})]}),(0,l.jsxs)("p",{className:"text-gray-400 text-xs text-center",children:["Clicks: ",m]})]});if("mountSelection"===e)return(0,l.jsxs)("div",{className:"min-h-screen flex flex-col p-6 bg-white",children:[(0,l.jsx)("button",{type:"button",onClick:p("Back",()=>t("permission")),className:"text-blue-600 mb-8",children:"← Back"}),(0,l.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Mount Type"}),(0,l.jsx)("p",{className:"text-gray-600 mb-8",children:"How will your shades be mounted?"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("button",{type:"button",onClick:p("Inside Mount",()=>{r("inside"),t("pass1")}),className:"w-full p-6 border-2 border-gray-200 rounded-lg text-left",children:[(0,l.jsx)("span",{className:"font-semibold text-gray-900",children:"Inside Mount"}),(0,l.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"Shade fits inside the window frame"})]}),(0,l.jsxs)("button",{type:"button",onClick:p("Outside Mount",()=>{r("outside"),t("pass1")}),className:"w-full p-6 border-2 border-gray-200 rounded-lg text-left",children:[(0,l.jsx)("span",{className:"font-semibold text-gray-900",children:"Outside Mount"}),(0,l.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"Shade covers the window from outside"})]})]}),(0,l.jsxs)("p",{className:"text-gray-400 text-xs text-center mt-8",children:["Clicks: ",m]})]});if("pass1"===e||"pass2"===e||"pass3"===e){let s="pass1"===e?1:"pass2"===e?2:3,n="pass1"===e?"mountSelection":"pass2"===e?"pass1Review":"pass2Review";return(0,l.jsxs)("div",{className:"h-screen flex flex-col bg-black",children:[(0,l.jsxs)("div",{className:"bg-gray-900 text-white p-4 flex items-center justify-between",children:[(0,l.jsx)("button",{type:"button",onClick:p("Back",()=>t(n)),className:"text-white",children:"← Back"}),(0,l.jsxs)("span",{className:"font-semibold",children:["Pass ",s," of ",s<=2?"2+":"3"]}),(0,l.jsx)("div",{className:"w-12"})]}),(0,l.jsx)("div",{className:"flex-1 bg-gray-800 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("div",{className:"text-gray-400 text-sm mb-2",children:"Mock Camera View"}),(0,l.jsx)("div",{className:"border-2 border-dashed border-gray-500 w-48 h-64 flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-gray-500 text-xs",children:"Window Frame"})})]})}),(0,l.jsx)("div",{className:"bg-gray-900 p-6 flex justify-center",children:(0,l.jsx)("button",{type:"button",onClick:p("Capture",()=>{o||(d(!0),setTimeout(()=>{let s=function(){let e=.7+.25*Math.random();return{widthInInches:35+2*Math.random(),heightInInches:47+2*Math.random(),confidence:e,category:e>=.85?"Excellent":e>=.65?"OK":"Not Great",timestamp:Date.now()}}();x(e=>[...e,s]),"pass1"===e?t("pass1Review"):"pass2"===e?t("pass2Review"):"pass3"===e&&t("completion"),d(!1)},500))}),disabled:o,className:"w-20 h-20 rounded-full border-4 flex items-center justify-center bg-white border-gray-300 ".concat(o?"opacity-50":""),children:o?"...":(0,l.jsx)("div",{className:"w-14 h-14 rounded-full bg-red-500"})})}),(0,l.jsxs)("div",{className:"bg-gray-900 text-white text-center pb-6 text-sm",children:[1===s&&"Position window in frame and capture",2===s&&"Capture from a slightly different angle",3===s&&"Optional: One more capture for better accuracy",(0,l.jsx)("br",{}),(0,l.jsxs)("span",{className:"text-gray-500 text-xs",children:["Clicks: ",m]})]})]})}if("pass1Review"===e||"pass2Review"===e){let s="pass1Review"===e?1:2,n=i[i.length-1],a=i.reduce((e,t)=>e+t.confidence,0)/i.length<.65,r=2===s&&a&&i.length<3;return(0,l.jsxs)("div",{className:"min-h-screen flex flex-col p-6 bg-white",children:[(0,l.jsx)("button",{type:"button",onClick:p("Back",()=>t(1===s?"pass1":"pass2")),className:"text-blue-600 mb-8",children:"← Back"}),(0,l.jsxs)("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:["Pass ",s," Complete"]}),(0,l.jsx)("div",{className:"bg-gray-100 rounded-lg p-6 mb-6",children:(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsx)("p",{className:"text-gray-600 text-sm",children:"Measured Dimensions"}),(0,l.jsxs)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:[c(n.widthInInches)," \xd7 ",c(n.heightInInches)]}),(0,l.jsx)("p",{className:"text-sm mt-2",children:(0,l.jsxs)("span",{className:"inline-block px-2 py-1 rounded ".concat("Excellent"===n.category?"bg-green-100 text-green-800":"OK"===n.category?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:[n.category," (",Math.round(100*n.confidence),"%)"]})})]})}),r&&(0,l.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:(0,l.jsx)("p",{className:"text-amber-800 text-sm",children:"Low confidence - an additional pass may improve accuracy"})}),(0,l.jsxs)("div",{className:"mt-auto space-y-3",children:[(0,l.jsx)("button",{type:"button",onClick:p("Continue",()=>{1===s?t("pass2"):r?t("pass3"):t("completion")}),className:"bg-blue-600 text-white px-8 py-4 rounded-lg text-lg font-semibold w-full",children:1===s?"Continue to Pass 2":r?"Take Pass 3":"View Results"}),2===s&&(0,l.jsx)("button",{type:"button",onClick:p("Skip to Results",()=>t("completion")),className:"text-gray-600 py-2 w-full",children:r?"Skip and View Results":"View Results"})]}),(0,l.jsxs)("p",{className:"text-gray-400 text-xs text-center mt-4",children:["Clicks: ",m]})]})}return"completion"===e&&u?(0,l.jsxs)("div",{className:"min-h-screen flex flex-col p-6 bg-white",children:[(0,l.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2 text-center",children:"Measurement Complete"}),(0,l.jsx)("div",{className:"flex-1 flex flex-col items-center justify-center",children:(0,l.jsxs)("div",{className:"bg-gray-100 rounded-lg p-8 w-full max-w-sm",children:[(0,l.jsxs)("p",{className:"text-gray-600 text-sm text-center",children:["Final Dimensions (",s," mount)"]}),(0,l.jsxs)("p",{className:"text-3xl font-bold text-gray-900 text-center mt-2",children:[c(u.width)," \xd7 ",c(u.height)]}),(0,l.jsxs)("div",{className:"mt-6 text-center",children:[(0,l.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-semibold ".concat("Excellent"===u.category?"bg-green-100 text-green-800":"OK"===u.category?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:u.category}),(0,l.jsxs)("p",{className:"text-gray-500 text-sm mt-2",children:[Math.round(100*u.confidence),"% confidence • ",u.passCount," passes"]})]})]})}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsx)("button",{type:"button",onClick:p("View Details",()=>t("details")),className:"bg-gray-100 text-gray-900 px-8 py-4 rounded-lg font-semibold w-full",children:"View Details"}),(0,l.jsx)("button",{type:"button",onClick:p("Measure Another",()=>{x([]),r(null),t("home")}),className:"bg-blue-600 text-white px-8 py-4 rounded-lg font-semibold w-full",children:"Measure Another Window"}),(0,l.jsx)("button",{type:"button",onClick:p("Settings",()=>t("settings")),className:"text-gray-500 text-sm w-full",children:"Settings"})]}),(0,l.jsxs)("p",{className:"text-gray-400 text-xs text-center mt-4",children:["Clicks: ",m]})]}):"details"===e?(0,l.jsxs)("div",{className:"min-h-screen flex flex-col p-6 bg-white",children:[(0,l.jsx)("button",{type:"button",onClick:p("Back",()=>t("completion")),className:"text-blue-600 mb-8",children:"← Back"}),(0,l.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Measurement Details"}),(0,l.jsx)("div",{className:"space-y-4",children:i.map((e,t)=>(0,l.jsxs)("div",{className:"bg-gray-100 rounded-lg p-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,l.jsxs)("span",{className:"font-semibold text-gray-900",children:["Pass ",t+1]}),(0,l.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat("Excellent"===e.category?"bg-green-100 text-green-800":"OK"===e.category?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.category})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-500",children:"Width"}),(0,l.jsx)("p",{className:"font-mono",children:c(e.widthInInches)})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"text-gray-500",children:"Height"}),(0,l.jsx)("p",{className:"font-mono",children:c(e.heightInInches)})]})]})]},t))}),(0,l.jsxs)("p",{className:"text-gray-400 text-xs text-center mt-8",children:["Clicks: ",m]})]}):"settings"===e?(0,l.jsxs)("div",{className:"min-h-screen flex flex-col p-6 bg-white",children:[(0,l.jsx)("button",{type:"button",onClick:p("Back",()=>t(u?"completion":"home")),className:"text-blue-600 mb-8",children:"← Back"}),(0,l.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Settings"}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Debug Info"}),(0,l.jsxs)("p",{className:"text-gray-600 text-sm",children:["Click counter: ",m]}),(0,l.jsxs)("p",{className:"text-gray-600 text-sm",children:["Current screen: ",e]}),(0,l.jsxs)("p",{className:"text-gray-600 text-sm",children:["Passes completed: ",i.length]})]}),(0,l.jsx)("div",{className:"pt-6 border-t border-gray-200",children:(0,l.jsxs)("p",{className:"text-gray-500 text-xs",children:["Window Measurement App v0.1.3",(0,l.jsx)("br",{}),"Client-only render (no SSR hydration)"]})})]})]}):(0,l.jsxs)("div",{className:"p-6",children:["Unknown screen: ",e]})}function i(){let[e,t]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{t(!0)},[]),e)?(0,l.jsx)(r,{}):(0,l.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-white",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Window Measurement"}),(0,l.jsx)("p",{className:"text-gray-600 mb-8",children:"Loading..."})]})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=2048)),_N_E=e.O()}]);