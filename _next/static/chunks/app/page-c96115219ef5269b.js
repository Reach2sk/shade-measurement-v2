(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2048:(e,t,s)=>{Promise.resolve().then(s.bind(s,5866))},5866:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>k});var n=s(5155),a=s(2115);class i{async initialize(){return await new Promise(e=>setTimeout(e,500)),this.isActive=!0,this.frameCount=0,this.captureCount=0,this.currentDetection={x:.15,y:.1,width:.7,height:.8,confidence:.85},!0}cleanup(){this.isActive=!1,this.currentDetection=null}getDetection(){if(!this.isActive)return null;if(this.frameCount++,this.currentDetection){let e={...this.currentDetection};return e.x+=(Math.random()-.5)*.005,e.y+=(Math.random()-.5)*.005,e.width+=(Math.random()-.5)*.005,e.height+=(Math.random()-.5)*.005,e.x=Math.max(0,Math.min(1-e.width,e.x)),e.y=Math.max(0,Math.min(1-e.height,e.y)),e.confidence=Math.min(.95,.7+.002*this.frameCount),e}return null}getStability(){if(!this.isActive||!this.currentDetection)return{isStable:!1,jitter:1,frameCount:0};this.stabilityFrames++;let e=Math.max(.05,.5-.02*this.stabilityFrames);return this.lastJitter=.9*this.lastJitter+.1*e,{isStable:this.lastJitter<.15&&this.stabilityFrames>20,jitter:this.lastJitter,frameCount:this.stabilityFrames}}suggestCapture(){let e=this.getStability(),t=this.getDetection();return e.isStable&&null!==t&&t.confidence>.7}async capture(){let e,t;this.captureCount++;let s=(Math.random()-.5)*2,n=(Math.random()-.5)*2,a=this.baseWidth+s,i=this.baseHeight+n;return 1===this.captureCount?(e=.75+.1*Math.random(),t="OK"):2===this.captureCount?(e=.85+.1*Math.random(),t="Excellent"):t=(e=.8+.15*Math.random())>.85?"Excellent":"OK",this.stabilityFrames=0,this.lastJitter=.5,{widthInInches:a,heightInInches:i,confidence:e,category:t,timestamp:Date.now(),frameMetadata:{pxToInchUsed:null,detectorConfidence:e,detectorMetadata:{provider:"mock",captureNumber:this.captureCount,simulated:!0}}}}getVideoElement(){return null}constructor(){this.providerType="mock",this.isActive=!1,this.frameCount=0,this.captureCount=0,this.currentDetection=null,this.stabilityFrames=0,this.lastJitter=.5,this.baseWidth=36,this.baseHeight=48}}let r=(0,a.createContext)(null);function l(e){let{children:t}=e,[s,l]=(0,a.useState)(null),[c,o]=(0,a.useState)(!1),[d,u]=(0,a.useState)(!1),[h,m]=(0,a.useState)(null),[x,g]=(0,a.useState)(null),[p,b]=(0,a.useState)({isStable:!1,jitter:1,frameCount:0}),[f,y]=(0,a.useState)(!1),[j,w]=(0,a.useState)(null),N=(0,a.useRef)(null),v=(0,a.useCallback)(()=>{if(!s||!c)return;let e=()=>{let t=s.getDetection(),n=s.getStability(),a=s.suggestCapture();g(t),b(n),y(a),N.current=requestAnimationFrame(e)};e()},[s,c]),C=(0,a.useCallback)(async()=>{if(d||c)return c;u(!0),m(null);try{let e=new i,t=await e.initialize();return t?(l(e),w(e.getVideoElement()),o(!0)):m("Failed to initialize measurement provider"),u(!1),t}catch(e){return m(e instanceof Error?e.message:"Unknown error"),u(!1),!1}},[d,c]),k=(0,a.useCallback)(async()=>{if(!s||!c)return null;try{return await s.capture()}catch(e){return m(e instanceof Error?e.message:"Capture failed"),null}},[s,c]),S=(0,a.useCallback)(()=>{N.current&&(cancelAnimationFrame(N.current),N.current=null),s&&s.cleanup(),l(null),o(!1),g(null),w(null)},[s]);return(0,a.useEffect)(()=>(c&&s&&v(),()=>{N.current&&cancelAnimationFrame(N.current)}),[c,s,v]),(0,a.useEffect)(()=>()=>S(),[S]),(0,n.jsx)(r.Provider,{value:{provider:s,isInitialized:c,isInitializing:d,error:h,detection:x,stability:p,suggestCapture:f,videoElement:j,initialize:C,capture:k,cleanup:S},children:t})}function c(e){let{detection:t,stability:s,suggestCapture:a,containerWidth:i,containerHeight:r,showGrid:l=!0}=e;if(!t)return(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,n.jsx)("div",{className:"bg-black/70 text-white px-4 py-2 rounded-lg",children:"Looking for window..."})});let c=t.x*i,o=t.y*r,d=t.width*i,u=t.height*r,h="#f59e0b";return a?h="#22c55e":s.isStable&&(h="#3b82f6"),(0,n.jsxs)("svg",{className:"absolute inset-0 pointer-events-none",width:i,height:r,viewBox:"0 0 ".concat(i," ").concat(r),children:[(0,n.jsx)("rect",{x:c,y:o,width:d,height:u,fill:"none",stroke:h,strokeWidth:3,strokeDasharray:a?"none":"10,5"}),(0,n.jsxs)("g",{stroke:h,strokeWidth:4,fill:"none",children:[(0,n.jsx)("path",{d:"M ".concat(c," ").concat(o+20," L ").concat(c," ").concat(o," L ").concat(c+20," ").concat(o)}),(0,n.jsx)("path",{d:"M ".concat(c+d-20," ").concat(o," L ").concat(c+d," ").concat(o," L ").concat(c+d," ").concat(o+20)}),(0,n.jsx)("path",{d:"M ".concat(c," ").concat(o+u-20," L ").concat(c," ").concat(o+u," L ").concat(c+20," ").concat(o+u)}),(0,n.jsx)("path",{d:"M ".concat(c+d-20," ").concat(o+u," L ").concat(c+d," ").concat(o+u," L ").concat(c+d," ").concat(o+u-20)})]}),l&&(0,n.jsxs)("g",{stroke:h,strokeWidth:1,opacity:.3,children:[(0,n.jsx)("line",{x1:c+d/3,y1:o,x2:c+d/3,y2:o+u}),(0,n.jsx)("line",{x1:c+2*d/3,y1:o,x2:c+2*d/3,y2:o+u}),(0,n.jsx)("line",{x1:c,y1:o+u/3,x2:c+d,y2:o+u/3}),(0,n.jsx)("line",{x1:c,y1:o+2*u/3,x2:c+d,y2:o+2*u/3})]}),(0,n.jsxs)("text",{x:c+d/2,y:o-10,textAnchor:"middle",fill:h,fontSize:14,fontWeight:"bold",children:[Math.round(100*t.confidence),"%"]})]})}function o(e){let{stability:t,suggestCapture:s}=e,a=[];return(!t.isStable&&t.jitter>.3&&a.push("Hold steady"),t.frameCount<10&&a.push("Analyzing..."),0===a.length&&s)?(0,n.jsx)("div",{className:"absolute bottom-24 left-0 right-0 flex justify-center",children:(0,n.jsx)("div",{className:"bg-green-600 text-white px-4 py-2 rounded-lg font-semibold",children:"Ready to capture!"})}):a.length>0?(0,n.jsx)("div",{className:"absolute bottom-24 left-0 right-0 flex justify-center",children:(0,n.jsx)("div",{className:"bg-amber-600 text-white px-4 py-2 rounded-lg",children:a.join(" • ")})}):null}function d(e){return Math.ceil(16*e)/16}function u(e){let t=d(e),s=Math.floor(t),n=t-s;if(0===n)return"".concat(s,'"');let{numerator:a,denominator:i}=function(e,t){let s=function e(t,s){return 0===s?t:e(s,t%s)}(e,16);return{numerator:e/s,denominator:t/s}}(Math.round(16*n),16);return 0===s?"".concat(a,"/").concat(i,'"'):"".concat(s," ").concat(a,"/").concat(i,'"')}function h(e){return"".concat(Math.round(100*e),"%")}let m="wm-debug-log";function x(){try{let e=localStorage.getItem(m);if(!e)return[];return JSON.parse(e)}catch(e){return[]}}function g(){return JSON.stringify(x(),null,2)}async function p(){try{let e=g();return await navigator.clipboard.writeText(e),!0}catch(e){return!1}}function b(){let e=function(){let e=(0,a.useContext)(r);if(!e)throw Error("useMeasurement must be used within a MeasurementProviderWrapper");return e}(),t=(0,a.useRef)(null),[s,i]=(0,a.useState)({width:0,height:0}),[l,h]=(0,a.useState)(!1),[g,p]=(0,a.useState)("home"),[b,k]=(0,a.useState)(null),[S,M]=(0,a.useState)([]),[I,D]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=()=>{t.current&&i({width:t.current.offsetWidth,height:t.current.offsetHeight})};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let E=(0,a.useCallback)(async()=>{if(l)return;h(!0);let t=await e.capture();if(t){var s;!function(e,t){let s={timestamp:e.timestamp,timestampFormatted:new Date(e.timestamp).toISOString(),rawWidthInches:e.widthInInches,rawHeightInches:e.heightInInches,displayWidth:u(d(e.widthInInches)),displayHeight:u(d(e.heightInInches)),confidence:e.confidence,category:e.category,providerType:t,metadata:e.frameMetadata.detectorMetadata||{}},n=x();n.push(s);let a=n.slice(-100);try{localStorage.setItem(m,JSON.stringify(a))}catch(e){console.warn("Failed to save debug log to localStorage")}}(t,(null==(s=e.provider)?void 0:s.providerType)||"mock"),M(e=>[...e,t]),"pass1"===g?p("pass1Review"):"pass2"===g?p("pass2Review"):"pass3"===g&&p("completion")}h(!1)},[e,l,g]);(0,a.useEffect)(()=>{["pass1","pass2","pass3"].includes(g)&&!e.isInitialized&&e.initialize()},[g,e]);let R=S.length>0?function(e){let t;if(0===e.length)return{widthInches:0,heightInches:0,averageConfidence:0,category:"Not Great",passCount:0,passes:[]};let s=Math.max(...e.map(e=>e.widthInInches)),n=Math.max(...e.map(e=>e.heightInInches)),a=d(s),i=d(n),r=e.reduce((e,t)=>e+t.confidence,0)/e.length;return t=r>=.85?"Excellent":r>=.65?"OK":"Not Great",{widthInches:a,heightInches:i,averageConfidence:r,category:t,passCount:e.length,passes:e}}(S):null,O=e=>p(e);switch(g){case"home":return(0,n.jsx)(f,{onStart:()=>O("permission"),onSettings:()=>O("settings")});case"permission":return(0,n.jsx)(y,{isDenied:I,onGranted:()=>{D(!1),O("mountSelection")},onDenied:()=>D(!0),onRetry:()=>D(!1),onBack:()=>O("home")});case"mountSelection":return(0,n.jsx)(j,{onSelect:e=>{k(e),O("pass1")},onBack:()=>O("permission")});case"pass1":case"pass2":case"pass3":var L;let F="pass1"===g?1:"pass2"===g?2:3,A="pass1"===g?"mountSelection":"pass2"===g?"pass1Review":"pass2Review";return(0,n.jsxs)("div",{className:"h-screen flex flex-col bg-black",children:[(0,n.jsxs)("div",{className:"bg-gray-900 text-white p-4 flex items-center justify-between",children:[(0,n.jsx)("button",{onClick:()=>O(A),className:"text-white",children:"← Back"}),(0,n.jsxs)("span",{className:"font-semibold",children:["Pass ",F," of ",F<=2?"2+":"3"]}),(0,n.jsx)("div",{className:"w-12"})]}),(0,n.jsxs)("div",{ref:t,className:"flex-1 relative bg-gray-800",children:[e.isInitializing&&(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,n.jsx)("div",{className:"text-white",children:"Initializing camera..."})}),e.isInitialized&&(0,n.jsxs)(n.Fragment,{children:[(null==(L=e.provider)?void 0:L.providerType)==="mock"&&(0,n.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-700 to-gray-900 flex items-center justify-center",children:(0,n.jsx)("div",{className:"text-gray-400 text-sm",children:"Mock Camera View"})}),e.videoElement&&(0,n.jsx)("video",{ref:t=>{t&&e.videoElement&&(t.srcObject=e.videoElement.srcObject)},autoPlay:!0,playsInline:!0,muted:!0,className:"absolute inset-0 w-full h-full object-cover"}),(0,n.jsx)(c,{detection:e.detection,stability:e.stability,suggestCapture:e.suggestCapture,containerWidth:s.width,containerHeight:s.height}),(0,n.jsx)(o,{stability:e.stability,suggestCapture:e.suggestCapture})]})]}),(0,n.jsx)("div",{className:"bg-gray-900 p-6 flex justify-center",children:(0,n.jsx)("button",{onClick:E,disabled:l||!e.isInitialized,className:"w-20 h-20 rounded-full border-4 flex items-center justify-center ".concat(e.suggestCapture?"bg-green-600 border-green-400":"bg-white border-gray-300"," ").concat(l?"opacity-50":""),children:l?(0,n.jsx)("span",{className:"text-gray-600",children:"..."}):(0,n.jsx)("div",{className:"w-14 h-14 rounded-full ".concat(e.suggestCapture?"bg-green-400":"bg-red-500")})})}),(0,n.jsxs)("div",{className:"bg-gray-900 text-white text-center pb-6 text-sm",children:[1===F&&"Position window in frame and capture",2===F&&"Capture from a slightly different angle",3===F&&"Optional: One more capture for better accuracy"]})]});case"pass1Review":case"pass2Review":let P="pass1Review"===g?1:2,T=S[S.length-1],W=function(e){if(0===e.length)return{recommend:!1,reason:"No passes yet"};if(e.length>=3)return{recommend:!1,reason:"Maximum passes reached"};if(e.reduce((e,t)=>e+t.confidence,0)/e.length<.65)return{recommend:!0,reason:"Low confidence - an additional pass may improve accuracy"};if(e.length>=2){let t=e.map(e=>e.widthInInches),s=e.map(e=>e.heightInInches),n=Math.max(...s)-Math.min(...s);if(Math.max(...t)-Math.min(...t)>1||n>1)return{recommend:!0,reason:"Measurements vary between passes - an additional pass may help"}}return{recommend:!1,reason:"Measurements look good"}}(S);return(0,n.jsx)(w,{passNumber:P,result:T,showPass3Option:2===P,recommendPass3:W.recommend,recommendReason:W.reason,onContinue:()=>{1===P?O("pass2"):W.recommend?O("pass3"):O("completion")},onSkipToResults:2===P?()=>O("completion"):void 0,onBack:()=>O(1===P?"pass1":"pass2")});case"completion":if(!R)return null;return(0,n.jsx)(N,{width:R.widthInches,height:R.heightInches,confidence:R.averageConfidence,category:R.category,passCount:R.passCount,mountType:b,onViewDetails:()=>O("details"),onSettings:()=>O("settings"),onRestart:()=>{e.cleanup(),M([]),k(null),D(!1),p("home")}});case"details":return(0,n.jsx)(v,{passes:S,onBack:()=>O("completion")});case"settings":return(0,n.jsx)(C,{onBack:()=>O(R?"completion":"home")});default:return(0,n.jsx)("div",{children:"Unknown screen"})}}function f(e){let{onStart:t,onSettings:s}=e;return(0,n.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center p-6 bg-white",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Window Measurement"}),(0,n.jsx)("p",{className:"text-gray-600 mb-8 text-center",children:"Measure your windows for perfect-fit shades"}),(0,n.jsx)("button",{onClick:t,className:"bg-blue-600 text-white px-8 py-4 rounded-lg text-lg font-semibold mb-4 w-full max-w-xs active:bg-blue-700",children:"Start Measuring"}),(0,n.jsx)("button",{onClick:s,className:"text-gray-500 text-sm",children:"Settings"}),(0,n.jsx)("p",{className:"text-gray-400 text-xs mt-8",children:"Version 0.1.1"})]})}function y(e){let{isDenied:t,onGranted:s,onDenied:i,onRetry:r,onBack:l}=e,[c,o]=(0,a.useState)(!1),d=async()=>{o(!0);try{await new Promise(e=>setTimeout(e,500)),s()}catch(e){i()}o(!1)};return(0,n.jsxs)("div",{className:"min-h-screen flex flex-col p-6 bg-white",children:[(0,n.jsx)("button",{onClick:l,className:"text-blue-600 mb-8",children:"← Back"}),(0,n.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center",children:[(0,n.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-6",children:(0,n.jsx)("span",{className:"text-3xl",children:"\uD83D\uDCF7"})}),(0,n.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Camera Access"}),(0,n.jsxs)("p",{className:"text-gray-600 mb-8 text-center",children:["We need access to your camera to measure your windows.",t&&(0,n.jsx)("span",{className:"block text-red-600 mt-2",children:"Camera access was denied. Please enable it in your device settings."})]}),(0,n.jsx)("button",{onClick:t?r:d,disabled:c,className:"bg-blue-600 text-white px-8 py-4 rounded-lg text-lg font-semibold w-full max-w-xs active:bg-blue-700",children:c?"Requesting...":t?"Try Again":"Allow Camera Access"})]})]})}function j(e){let{onSelect:t,onBack:s}=e;return(0,n.jsxs)("div",{className:"min-h-screen flex flex-col p-6 bg-white",children:[(0,n.jsx)("button",{onClick:s,className:"text-blue-600 mb-8",children:"← Back"}),(0,n.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Mount Type"}),(0,n.jsx)("p",{className:"text-gray-600 mb-8",children:"How will your shades be mounted?"}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("button",{onClick:()=>t("inside"),className:"w-full p-6 border-2 border-gray-200 rounded-lg text-left active:border-blue-600",children:[(0,n.jsx)("span",{className:"font-semibold text-gray-900",children:"Inside Mount"}),(0,n.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"Shade fits inside the window frame"})]}),(0,n.jsxs)("button",{onClick:()=>t("outside"),className:"w-full p-6 border-2 border-gray-200 rounded-lg text-left active:border-blue-600",children:[(0,n.jsx)("span",{className:"font-semibold text-gray-900",children:"Outside Mount"}),(0,n.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:"Shade covers the window from outside"})]})]})]})}function w(e){let{passNumber:t,result:s,showPass3Option:a,recommendPass3:i,recommendReason:r,onContinue:l,onSkipToResults:c,onBack:o}=e,m=u(d(s.widthInInches)),x=u(d(s.heightInInches));return(0,n.jsxs)("div",{className:"min-h-screen flex flex-col p-6 bg-white",children:[(0,n.jsx)("button",{onClick:o,className:"text-blue-600 mb-8",children:"← Back"}),(0,n.jsxs)("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:["Pass ",t," Complete"]}),(0,n.jsx)("div",{className:"bg-gray-100 rounded-lg p-6 mb-6",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("p",{className:"text-gray-600 text-sm",children:"Measured Dimensions"}),(0,n.jsxs)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:[m," \xd7 ",x]}),(0,n.jsx)("p",{className:"text-sm mt-2",children:(0,n.jsxs)("span",{className:"inline-block px-2 py-1 rounded ".concat("Excellent"===s.category?"bg-green-100 text-green-800":"OK"===s.category?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:[s.category," (",h(s.confidence),")"]})})]})}),a&&i&&(0,n.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-6",children:(0,n.jsx)("p",{className:"text-amber-800 text-sm",children:r})}),(0,n.jsxs)("div",{className:"mt-auto space-y-3",children:[(0,n.jsx)("button",{onClick:l,className:"bg-blue-600 text-white px-8 py-4 rounded-lg text-lg font-semibold w-full active:bg-blue-700",children:1===t?"Continue to Pass 2":i?"Take Pass 3":"View Results"}),a&&c&&(0,n.jsx)("button",{onClick:c,className:"text-gray-600 py-2 w-full",children:i?"Skip and View Results":"View Results"})]})]})}function N(e){let{width:t,height:s,confidence:a,category:i,passCount:r,mountType:l,onViewDetails:c,onSettings:o,onRestart:d}=e;return(0,n.jsxs)("div",{className:"min-h-screen flex flex-col p-6 bg-white",children:[(0,n.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2 text-center",children:"Measurement Complete"}),(0,n.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center",children:[(0,n.jsxs)("div",{className:"bg-gray-100 rounded-lg p-8 w-full max-w-sm",children:[(0,n.jsxs)("p",{className:"text-gray-600 text-sm text-center",children:["Final Dimensions (",l," mount)"]}),(0,n.jsx)("p",{className:"text-3xl font-bold text-gray-900 text-center mt-2",children:function(e,t){let s=u(e),n=u(t);return"".concat(s," \xd7 ").concat(n)}(t,s)}),(0,n.jsxs)("div",{className:"mt-6 text-center",children:[(0,n.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-semibold ".concat("Excellent"===i?"bg-green-100 text-green-800":"OK"===i?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:i}),(0,n.jsxs)("p",{className:"text-gray-500 text-sm mt-2",children:[h(a)," confidence • ",r," passes"]})]})]}),"Not Great"===i&&(0,n.jsx)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mt-6 max-w-sm",children:(0,n.jsx)("p",{className:"text-amber-800 text-sm text-center",children:"Consider measuring again for better accuracy"})})]}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)("button",{onClick:c,className:"bg-gray-100 text-gray-900 px-8 py-4 rounded-lg font-semibold w-full",children:"View Details"}),(0,n.jsx)("button",{onClick:d,className:"bg-blue-600 text-white px-8 py-4 rounded-lg font-semibold w-full active:bg-blue-700",children:"Measure Another Window"}),(0,n.jsx)("button",{onClick:o,className:"text-gray-500 text-sm w-full",children:"Settings"})]})]})}function v(e){let{passes:t,onBack:s}=e;return(0,n.jsxs)("div",{className:"min-h-screen flex flex-col p-6 bg-white",children:[(0,n.jsx)("button",{onClick:s,className:"text-blue-600 mb-8",children:"← Back"}),(0,n.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Measurement Details"}),(0,n.jsx)("div",{className:"space-y-4",children:t.map((e,t)=>(0,n.jsxs)("div",{className:"bg-gray-100 rounded-lg p-4",children:[(0,n.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,n.jsxs)("span",{className:"font-semibold text-gray-900",children:["Pass ",t+1]}),(0,n.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat("Excellent"===e.category?"bg-green-100 text-green-800":"OK"===e.category?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.category})]}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-gray-500",children:"Width"}),(0,n.jsx)("p",{className:"font-mono",children:u(d(e.widthInInches))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-gray-500",children:"Height"}),(0,n.jsx)("p",{className:"font-mono",children:u(d(e.heightInInches))})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-gray-500",children:"Confidence"}),(0,n.jsx)("p",{children:h(e.confidence)})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-gray-500",children:"Time"}),(0,n.jsx)("p",{children:new Date(e.timestamp).toLocaleTimeString()})]})]})]},t))})]})}function C(e){let{onBack:t}=e,[s,i]=(0,a.useState)([]),[r,l]=(0,a.useState)(null);(0,a.useEffect)(()=>{i(x())},[]);let c=async()=>{l(await p()?"Copied!":"Failed to copy"),setTimeout(()=>l(null),2e3)};return(0,n.jsxs)("div",{className:"min-h-screen flex flex-col p-6 bg-white",children:[(0,n.jsx)("button",{onClick:t,className:"text-blue-600 mb-8",children:"← Back"}),(0,n.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Settings"}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Debug Log"}),(0,n.jsxs)("p",{className:"text-gray-600 text-sm mb-4",children:[s.length," records stored"]}),(0,n.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,n.jsx)("button",{onClick:c,className:"bg-gray-100 text-gray-900 px-4 py-2 rounded text-sm active:bg-gray-200",children:r||"Copy to Clipboard"}),(0,n.jsx)("button",{onClick:()=>{let e=new Blob([g()],{type:"application/json"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download="window-measurement-debug-".concat(new Date().toISOString().split("T")[0],".json"),document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(t)},className:"bg-gray-100 text-gray-900 px-4 py-2 rounded text-sm active:bg-gray-200",children:"Download JSON"}),(0,n.jsx)("button",{onClick:()=>{try{localStorage.removeItem(m)}catch(e){console.warn("Failed to clear debug log")}i([])},className:"bg-red-100 text-red-800 px-4 py-2 rounded text-sm active:bg-red-200",children:"Clear Log"})]})]}),s.length>0&&(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Recent Records"}),(0,n.jsx)("div",{className:"bg-gray-100 rounded-lg p-4 max-h-64 overflow-y-auto",children:(0,n.jsx)("pre",{className:"text-xs text-gray-700 whitespace-pre-wrap",children:JSON.stringify(s.slice(-5),null,2)})})]}),(0,n.jsx)("div",{className:"pt-6 border-t border-gray-200",children:(0,n.jsxs)("p",{className:"text-gray-500 text-xs",children:["Window Measurement App v0.1.1",(0,n.jsx)("br",{}),"Using Mock Provider for UI development"]})})]})]})}function k(){return(0,n.jsx)(l,{children:(0,n.jsx)(b,{})})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=2048)),_N_E=e.O()}]);